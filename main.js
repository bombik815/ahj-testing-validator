(()=>{"use strict";class t{constructor(){this.validator=document.querySelector("#validator"),this.inputNumber=null}renderDom(){const t=document.createElement("form"),e=document.createElement("input"),n=document.createElement("button"),r=document.createElement("h3"),c=document.createElement("ul"),i=document.createElement("li");r.textContent="Check your credit card number",n.textContent="Click to Validate",n.type="button",e.type="text",e.placeholder="Credit card number",this.validator.appendChild(t),t.appendChild(r),t.appendChild(c),c.appendChild(i);for(let t=0;t<6;t+=1)c.appendChild(i.cloneNode());const s=document.querySelectorAll("li");s[0].classList.add("card","visa"),s[1].classList.add("card","master-card"),s[2].classList.add("card","american-express"),s[3].classList.add("card","jcb"),s[4].classList.add("card","maestro"),s[5].classList.add("card","discover"),s[6].classList.add("card","mir"),t.appendChild(e),t.appendChild(n),this.inputValue()}inputValue(){const e=document.querySelector("input"),n=document.querySelector("button");e.addEventListener("input",(e=>{this.inputNumber=e.target.value,t.checkPaymentSystem(this.inputNumber)})),n.addEventListener("click",(()=>{t.checkValidate(this.inputNumber)}))}static checkValidate(t){const e=function(t){const e=String(t).replace(/\D/g,"");let n=0;for(let t=0;t<e.length;t+=1){let r=parseInt(e[t],10);(e.length-t)%2==0?2*r>9?n+=2*r-9:(r*=2,n+=r):n+=r}return n%10==0}(t),n=document.querySelector("input");(n.classList.contains("valid")||n.classList.contains("not-valid"))&&(n.classList.remove("valid"),n.classList.remove("not-valid")),e?n.classList.add("valid"):n.classList.add("not-valid")}static checkPaymentSystem(t){const e=function(t){function e(t,e,n=1){return Array(Math.ceil((e-t)/n)).fill(t).map(((t,e)=>t+e*n))}const n=[4,4026,4508,4844,4913,4917,417500],r=[34,37],c=[51,52,53,54,55,...e(22210,27210)],i=[...e(3528,3589)],s=[5018,5020,5038,5893,6304,6759,6761,6762,6763],l=[65,644,645,646,647,648,649,6011,...e(622126,622925)],a=[2200,2201,2202,2203,2204];for(let e=0;e<n.length;e+=1){const r=String(n[e]);if(r===String(t).slice(0,r.length))return"visa"}for(let e=0;e<r.length;e+=1){const n=String(r[e]);if(n===String(t).slice(0,n.length))return"american-express"}for(let e=0;e<c.length;e+=1){const n=String(c[e]);if(n===String(t).slice(0,n.length))return"master-card"}for(let e=0;e<i.length;e+=1){const n=String(i[e]);if(n===String(t).slice(0,n.length))return"jcb"}for(let e=0;e<s.length;e+=1){const n=String(s[e]);if(n===String(t).slice(0,n.length))return"maestro"}for(let e=0;e<l.length;e+=1){const n=String(l[e]);if(n===String(t).slice(0,n.length))return"discover"}for(let e=0;e<a.length;e+=1){const n=String(a[e]);if(n===String(t).slice(0,n.length))return"mir"}return!1}(t),n=document.querySelectorAll(".card");for(const t of n)t.classList.contains(`${e}`)?t.classList.remove("disable"):t.classList.add("disable")}}console.log("app started"),(new t).renderDom()})();